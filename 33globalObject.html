<!Doctype html>
<html lang = "ko">
    <head>
        <meta charset = "UTF-8">
        <title>내장객체</title>
    </head>
    <body>
        <h1>내장객체</h1>
        <script>
            // 내장객체
            // 브라우저에 미리 정의되어 사용자가 바로 사용할 수 있도록
            // 만들어진 객체를 의미
            // 간단한 값을 처리해서 결과를 반환하는 함수
            // Math/String/Number/Date/Array/JSON 등이 있음
        </script>

        <h1>Math</h1>
        <script>
            // Math : 수학에서 자주 사용하는 함수를 정의
            document.write(Math.min(1,10,-10,0) + '<br>'); // 최소값
            document.write(Math.max(1,10,-10,0) + '<br>'); // 최대값

            document.write(Math.round(123.456) + '<br>');  // 반올림
            document.write(Math.round(567.890) + '<br>');
            document.write(Math.ceil(123.456) + '<br>');   // 올림
            document.write(Math.floor(567.890) + '<br>');  // 내림

            document.write(Math.random() + '<br>');        // 랜덤

            // 1 ~ 45 사이 임의의 난수 6개 생성
            // (랜덤 * (최대 - 최소) + 최소) +1
            let min = 0, max = 44;

            for (let i = 1; i <= 6; ++i) {
                let lucky = Math.floor(Math.random() * (max - min) + min) + 1;
                document.write(lucky + ' ');
            }
        </script>

        <h1>String</h1>
        <script>
            // String : 문자열 관련 작업을 위한 객체

            // fromCharCode : ASCII코드에 대한 문자 출력
            document.write(String.fromCharCode(65) + '<br>');
            document.write(String.fromCharCode(97) + '<br>');
            document.write(String.fromCharCode(48) + '<br>');

            // charCodeAt : 문자에 대한 ASCII코드 출력
            document.write('Aa0'.charCodeAt(0) + '<br>'); // 0 => 1번째
            document.write('Aa0'.charCodeAt(1) + '<br>');
            document.write('Aa0'.charCodeAt(2) + '<br>');

            // 문자열 존재/위치 알아보기
            let str = 'abc123XYZabc';

            // indexOf : 문자 존재여부 확인
            // 존재o -> 해당 문자열의 위치값 출력
            // 존재x -> -1 출력
            document.write(str.indexOf('XYZ') + '<br>'); // 7번째 -> 6
            document.write(str.indexOf('abcd') + '<br>');

            // 두번째 abc 위치 출력
            document.write(str.indexOf('abc') + '<br>');
            document.write(str.indexOf('abc', 5) + '<br>');
            // 5+1번째 위치(3) 이후부터 abc 위치찾기

            // lastIndexOf : 문자 존재여부 오른쪽 시작(<-)으로 확인
            document.write(str.lastIndexOf('abc') + '<br>');
            document.write(str.lastIndexOf('abc', 5) + '<br>');

            // 특정위치 문자 추출
            let jumin = '123456-1234567';

            // charAt : 특정위치 문자 추출
            document.write(jumin.charAt(7) + '<br>');

            // slice : n ~ m-1 범위 내 문자/문자열 추출
            document.write(jumin.slice(0,6) + '<br>');   // 생년월일 추출

            document.write(jumin.slice(7,14) + '<br>');  // 주민번호 뒷자리 추출
            document.write(jumin.slice(7) + '<br>');    // 끝을 모를경우

            document.write(jumin.slice(-7,-1) + '<br>');
            document.write(jumin.slice(-7) + '<br>');

            document.write(jumin.slice(7,8) + '<br>');

            // substring : n ~ m-1 범위 내 문자/문자열 추출
            document.write(jumin.substring(7,8) + '<br>');

            // substr : 지정한 위치에서 지정한 개수만큼 문자열을 추출
            document.write(jumin.substr(7,1) + '<br>'); // 추천!

            str = 'abc|123|xyz';

            // split : 지정한 구분자를 기준으로 문자들을 분리
            document.write(str.split('|') + '<br>');
            document.write(str.split('') + '<br>');  // 문자별로 분리
        </script>

        <h1>정규표현식</h1>
        <script>
            // 정규표현식
            // 문자열을 섬세하게 처리하고 싶을 때 이용
            // ^ : 문자열의 시작을 의미 (ex: ^a)
            // $ : 문자열의 끝을 의미 (ex: z$)

            // . : 임의의 한 문자를 의미
            // + : 1 이상 반복 (ex: .+)
            // ? : 0 또는 1 반복 (ex: .?)
            // * : 0 이상 반복 (ex: .*)
            // {m,n} : 최소 m, 최대 n 반복 (ex: .{m,n})

            // | : or (ex: x|y)
            // [] : 선택가능한 문자들의 모음 (ex: [abc])
            // [^] : 선택문자에서 제외 (ex: [^xyz])
            // [-] : 문자열 범위지정 (ex: [a-zA-Z0-9])

            // 특정문자열이 index로 시작하는지 또는 html로 끝나는지 검사
            // 정규표현식을 이용해서 문자열을 검사하려면 test함수 사용
            // 조건에 맞는 문자열을 찾으면 true 반환, 그렇지 않으면 false 반환
            let fname = 'index.html';
            let reg1 = /^index/;
            let reg2 = /html$/;

            document.write(reg1.test(fname) + '<br>');
            document.write(reg2.test(fname) + '<br>');

            document.write('<hr>');
            // 전화번호를 확인하는 정규표현식
            // 02-1234-1234, 032-1234-1234
            // 010-1234-1234, 011-1234-1234
            // reg1 = /[0-9][0-9][0-9]-[0-9][0-9][0-9][0-9]-[0-9][0-9][0-9][0-9]/;
            reg1 = /[0-9]{2,3}-[0-9]{4}-[0-9]{4}/;

            let data1 = '02-1234-1234';
            let data2 = '032-1234-1234';
            let data3 = '010-1234-1234';

            document.write(reg1.test(data1) + '<br>');
            document.write(reg1.test(data2) + '<br>');
            document.write(reg1.test(data3) + '<br>');

            document.write('<hr>');
            // 주민번호를 확인하는 정규표현식
            // reg2 = /[0-9][0-9][0-9][0-9][0-9][0-9]-[1-4][0-9][0-9][0-9][0-9][0-9][0-9]/;
            // reg2 = /[0-9]{6}-[0-9]{7}/;
            reg2 = /[0-9]{2}(0[1-9]|1[0-2])(0[1-9]|[12][0-9]|[3][01])-[1-4][0-9]{6}/;

            let data4 = '123456-1234567';
            let data5 = '980520-1234567';

            document.write(reg2.test(data4) + '<br>');
            document.write(reg2.test(data5) + '<br>');

            document.write('<hr>');
            // 특정 아이디가 올바르게 만들어졌는지 확인
            // 조건 : 알파벳 소문자로 시작하고 대/소문자,숫자를 이용해서
            // 총 문자 길이가 7~15사이 아이디 작성
            // 조건값1 : a1x2y3zbc
            // 조건값2 : abcX98
            // 조건값3 : 9cba123x
            let reg3 = /^[a-z][a-zA-Z0-9]{6,14}/;

            let data6 = 'a1x2y3zbc';
            let data7 = 'abcX98';
            let data8 = '9cba123x';

            document.write(reg3.test(data6) + '<br>');
            document.write(reg3.test(data7) + '<br>');
            document.write(reg3.test(data8) + '<br>');

            document.write('<hr>');
            // 특정 비밀번호가 올바르게 만들어졌는지 확인
            // 조건: 알파벳소문자로 시작하고 대/소문자/숫자/특수문자(!@#$-)를
            //       최소 하나이상 포함해서 총 문자길이가 8~16 사이 작성
            // 조건값1 : 123xyz!Abc
            // 조건값1 : abc0123Xyz!
            // 조건값1 : a!aZ1231
            let reg4 = /^[a-z][a-zA-Z0-9!@#$-]{7,15}$/;

            let data9 = '123xyz!Abc';
            let data10 = 'abc0123Xyz!';
            let data11 = 'a!aZ1231';

            document.write(reg4.test(data9) + '<br>');
            document.write(reg4.test(data10) + '<br>');
            document.write(reg4.test(data11) + '<br>');
        </script>
    </body>
</html>

<!--

정규표현식
https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Regular_Expressions

-->
